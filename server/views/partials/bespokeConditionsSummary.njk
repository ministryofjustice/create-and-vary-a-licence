{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{%  macro bespokeConditions(licence, isEditable) %}
    <div class="govuk-grid-row check-answers-header">
        <div class="govuk-grid-column-three-quarters">
            <h2 class="govuk-heading-m">Bespoke licence conditions details</h2>
        </div>
        {% if isEditable %}
            <div class="govuk-grid-column-one-quarter check-answers-header__change-link">
                <a href="{{ '/licence/create/id/' + licence.id + '/bespoke-conditions-question?fromReview=true'}}" class="govuk-link govuk-!-font-size-19">Change</a>
            </div>
        {% endif %}
    </div>

    {% set bespokeConditions = [] %}

    {% for condition in licence.bespokeConditions %}
        {% set bespokeConditions = (bespokeConditions.push({
            key: { text: 'Bespoke condition' },
            value: { text: condition.text }
        }), bespokeConditions) %}
    {% endfor %}

    {% if bespokeConditions.length > 0 %}
        {{ govukSummaryList({
            attributes: { id: 'bespoke-conditions-details' },
            classes: 'govuk-!-margin-bottom-9',
            rows: bespokeConditions
        }) }}
    {% else %}
        <p class="govuk-body govuk-!-margin-bottom-9">No bespoke conditions have been added to this licence</p>
    {% endif %}
{% endmacro %}

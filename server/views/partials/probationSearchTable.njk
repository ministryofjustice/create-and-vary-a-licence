{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% if (probationers and probationers.length > 0) %}
    <table id="probation-search-table" class="govuk-table" data-qa="probation-search-table">
        <thead class="govuk-table__head">
        <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header">Name</th>
            <th scope="col" class="govuk-table__header">Prisoner ID</th>
            <th scope="col" class="govuk-table__header">CRN</th>
            <th scope="col" class="govuk-table__header">Date of Birth</th>
            <th scope="col" class="govuk-table__header">Partition Area</th>
            <th scope="col" class="govuk-table__header"></th>
        </tr>
        </thead>
        <tbody class="govuk-table__body govuk-body-s">
        {% for person in probationers %}
            {% set rowClass = 'even' if loop.index % 2 === 0 else 'odd' %}
            <tr class="govuk-table__row {{ rowClass }}">
                <td class="govuk-table__cell govuk-!-padding-top-8">{{ (person.firstName + ' ' + person.surname) | title }}</td>
                <td class="govuk-table__cell govuk-!-padding-top-8">{{ person.otherIds.nomsNumber or "N/A" }}</td>
                <td class="govuk-table__cell govuk-!-padding-top-8">{{ person.otherIds.crn or "N/A" }}</td>
                <td class="govuk-table__cell govuk-!-padding-top-8">{{ person.dateOfBirth }}</td>
                <td class="govuk-table__cell govuk-!-padding-top-8">{{ person.partitionArea }}</td>
                <td class="govuk-table__cell govuk-!-padding-top-7">
                    {{ govukButton({
                        text: "Select",
                        value: 'select-prison-profile',
                        classes: 'govuk-button--tertiary',
                        href: '/prisoner/' + person.otherIds.nomsNumber + '/detail',
                        preventDoubleClick: true
                    }) }}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}

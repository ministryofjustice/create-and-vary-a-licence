{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}
{% from "pages/immediateReleaseConditions.njk" import immediateReleaseConditions %}

{%  macro approverImmediateReleaseConditions(licence) %}
    <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
            {% if licence.kind == 'HARD_STOP' %}
                <span class="govuk-warning-text__assistive govuk-visually-hidden">Warning</span>
                This licence was generated by {{ licence.submittedByFullName }} at OMU {{ licence.prisonDescription }} as the probation practitioner did not submit one in time for final release checks.
            {% else %}
                This licence was generated by {{ licence.submittedByFullName }} at {{ licence.prisonDescription }} as this person is being released with time served.
            {% endif %}
        </strong>
    </div>
    <div class="licence-conditions">
        {{ immediateReleaseConditions(licence.typeCode) }}
    </div>
    {% if licence.typeCode === 'AP_PSS' or licence.typeCode === 'AP' %}
        <p>No other additional or bespoke licence conditions can be added. <br><br>A community probation practitioner can do this after release.</p>
    {% endif %}
{% endmacro %}
